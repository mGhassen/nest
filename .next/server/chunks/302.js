"use strict";exports.id=302,exports.ids=[302],exports.modules={83302:(e,t,a)=>{a.d(t,{Z:()=>ea});var s=a(68819),r=a(17266),o=a(74723),d=a(74064),n=a(10119);let i=0,l=new Map,c=e=>{if(l.has(e))return;let t=setTimeout(()=>{l.delete(e),x({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,t)},m=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?c(a):e.toasts.forEach(e=>{c(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},p=[],f={toasts:[]};function x(e){f=m(f,e),p.forEach(e=>{e(f)})}function u({...e}){let t=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>x({type:"DISMISS_TOAST",toastId:t});return x({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>x({type:"UPDATE_TOAST",toast:{...e,id:t}})}}async function h(e,t={}){let a=await fetch(`/api${e}`,{...t,headers:{"Content-Type":"application/json",...t.headers}});if(!a.ok)throw Error((await a.json().catch(()=>({message:"Network error"}))).message||`HTTP error! status: ${a.status}`);return a.json()}var j=a(90772),y=a(54432),g=a(4521),N=a(94019),w=a(77863);let b=g.fC,v=g.xz,T=g.h_;g.x8;let S=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(g.aV,{ref:a,className:(0,w.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));S.displayName=g.aV.displayName;let E=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(T,{children:[(0,s.jsx)(S,{}),(0,s.jsxs)(g.VY,{ref:r,className:(0,w.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[t,(0,s.jsxs)(g.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(N.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));E.displayName=g.VY.displayName;let _=({className:e,...t})=>(0,s.jsx)("div",{className:(0,w.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});_.displayName="DialogHeader";let I=({className:e,...t})=>(0,s.jsx)("div",{className:(0,w.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});I.displayName="DialogFooter";let O=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(g.Dx,{ref:a,className:(0,w.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));O.displayName=g.Dx.displayName;let C=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(g.dk,{ref:a,className:(0,w.cn)("text-sm text-muted-foreground",e),...t}));C.displayName=g.dk.displayName;var D=a(34214),R=a(31048);let A=o.RV,F=r.createContext({}),z=({...e})=>(0,s.jsx)(F.Provider,{value:{name:e.name},children:(0,s.jsx)(o.Qr,{...e})}),M=()=>{let e=r.useContext(F),t=r.useContext(P),{getFieldState:a,formState:s}=(0,o.Gc)(),d=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=t;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...d}},P=r.createContext({}),k=r.forwardRef(({className:e,...t},a)=>{let o=r.useId();return(0,s.jsx)(P.Provider,{value:{id:o},children:(0,s.jsx)("div",{ref:a,className:(0,w.cn)("space-y-2",e),...t})})});k.displayName="FormItem";let V=r.forwardRef(({className:e,...t},a)=>{let{error:r,formItemId:o}=M();return(0,s.jsx)(R._,{ref:a,className:(0,w.cn)(r&&"text-destructive",e),htmlFor:o,...t})});V.displayName="FormLabel";let L=r.forwardRef(({...e},t)=>{let{error:a,formItemId:r,formDescriptionId:o,formMessageId:d}=M();return(0,s.jsx)(D.g7,{ref:t,id:r,"aria-describedby":a?`${o} ${d}`:`${o}`,"aria-invalid":!!a,...e})});L.displayName="FormControl",r.forwardRef(({className:e,...t},a)=>{let{formDescriptionId:r}=M();return(0,s.jsx)("p",{ref:a,id:r,className:(0,w.cn)("text-sm text-muted-foreground",e),...t})}).displayName="FormDescription";let U=r.forwardRef(({className:e,children:t,...a},r)=>{let{error:o,formMessageId:d}=M(),n=o?String(o?.message??""):t;return n?(0,s.jsx)("p",{ref:r,id:d,className:(0,w.cn)("text-sm font-medium text-destructive",e),...a,children:n}):null});U.displayName="FormMessage";var Z=a(96034),$=a(941),Y=a(96633),G=a(32933);let H=Z.fC;Z.ZA;let J=Z.B4,B=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(Z.xz,{ref:r,className:(0,w.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[t,(0,s.jsx)(Z.JO,{asChild:!0,children:(0,s.jsx)($.Z,{className:"h-4 w-4 opacity-50"})})]}));B.displayName=Z.xz.displayName;let Q=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(Z.u_,{ref:a,className:(0,w.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(Y.Z,{className:"h-4 w-4"})}));Q.displayName=Z.u_.displayName;let X=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(Z.$G,{ref:a,className:(0,w.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)($.Z,{className:"h-4 w-4"})}));X.displayName=Z.$G.displayName;let q=r.forwardRef(({className:e,children:t,position:a="popper",...r},o)=>(0,s.jsx)(Z.h_,{children:(0,s.jsxs)(Z.VY,{ref:o,className:(0,w.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[(0,s.jsx)(Q,{}),(0,s.jsx)(Z.l_,{className:(0,w.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,s.jsx)(X,{})]})}));q.displayName=Z.VY.displayName,r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(Z.__,{ref:a,className:(0,w.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=Z.__.displayName;let K=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(Z.ck,{ref:r,className:(0,w.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(Z.wU,{children:(0,s.jsx)(G.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(Z.eT,{children:t})]}));K.displayName=Z.ck.displayName,r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(Z.Z0,{ref:a,className:(0,w.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=Z.Z0.displayName;var W=a(83855),ee=a(27256);!function(){var e=Error("Cannot find module '@shared/schema'");throw e.code="MODULE_NOT_FOUND",e}();let et=Object(function(){var e=Error("Cannot find module '@shared/schema'");throw e.code="MODULE_NOT_FOUND",e}()).extend({password:ee.z.string().min(6,"Password must be at least 6 characters").optional()});function ea({onSuccess:e}){let[t,a]=(0,r.useState)(!1),{toast:i}=function(){let[e,t]=r.useState(f);return r.useEffect(()=>(p.push(t),()=>{let e=p.indexOf(t);e>-1&&p.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>x({type:"DISMISS_TOAST",toastId:e})}}(),l=(0,o.cI)({resolver:(0,d.F)(et),defaultValues:{firstName:"",lastName:"",email:"",employmentType:"FULL_TIME",hireDate:new Date().toISOString().split("T")[0]}}),c=(0,n.D)({mutationFn:async e=>await h("POST","/api/employees",e),onSuccess:()=>{i({title:"Success",description:"Employee created successfully"}),l.reset(),a(!1),e?.()},onError:e=>{if(e?.status===401||e?.statusCode===401){i({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}i({title:"Error",description:"Failed to create employee",variant:"destructive"})}});return(0,s.jsxs)(b,{open:t,onOpenChange:a,children:[(0,s.jsx)(v,{asChild:!0,children:(0,s.jsxs)(j.z,{"data-testid":"button-add-employee",children:[(0,s.jsx)(W.Z,{className:"h-4 w-4 mr-2"}),"Add Employee"]})}),(0,s.jsxs)(E,{className:"max-w-2xl","data-testid":"dialog-employee-form",children:[(0,s.jsxs)(_,{children:[(0,s.jsx)(O,{children:"Add New Employee"}),(0,s.jsx)(C,{children:"Create a new employee record with basic information and access credentials."})]}),(0,s.jsx)(A,{...l,children:(0,s.jsxs)("form",{onSubmit:l.handleSubmit(e=>{c.mutate(e)}),className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(z,{control:l.control,name:"firstName",render:({field:e})=>(0,s.jsxs)(k,{children:[(0,s.jsx)(V,{children:"First Name"}),(0,s.jsx)(L,{children:(0,s.jsx)(y.I,{placeholder:"John",...e,"data-testid":"input-first-name"})}),(0,s.jsx)(U,{})]})}),(0,s.jsx)(z,{control:l.control,name:"lastName",render:({field:e})=>(0,s.jsxs)(k,{children:[(0,s.jsx)(V,{children:"Last Name"}),(0,s.jsx)(L,{children:(0,s.jsx)(y.I,{placeholder:"Doe",...e,"data-testid":"input-last-name"})}),(0,s.jsx)(U,{})]})})]}),(0,s.jsx)(z,{control:l.control,name:"email",render:({field:e})=>(0,s.jsxs)(k,{children:[(0,s.jsx)(V,{children:"Email Address"}),(0,s.jsx)(L,{children:(0,s.jsx)(y.I,{type:"email",placeholder:"john.doe@company.com",...e,"data-testid":"input-email"})}),(0,s.jsx)(U,{})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(z,{control:l.control,name:"employmentType",render:({field:e})=>(0,s.jsxs)(k,{children:[(0,s.jsx)(V,{children:"Employment Type"}),(0,s.jsxs)(H,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,s.jsx)(L,{children:(0,s.jsx)(B,{"data-testid":"select-employment-type",children:(0,s.jsx)(J,{placeholder:"Select employment type"})})}),(0,s.jsxs)(q,{children:[(0,s.jsx)(K,{value:"FULL_TIME",children:"Full Time"}),(0,s.jsx)(K,{value:"PART_TIME",children:"Part Time"}),(0,s.jsx)(K,{value:"CONTRACTOR",children:"Contractor"})]})]}),(0,s.jsx)(U,{})]})}),(0,s.jsx)(z,{control:l.control,name:"hireDate",render:({field:e})=>(0,s.jsxs)(k,{children:[(0,s.jsx)(V,{children:"Hire Date"}),(0,s.jsx)(L,{children:(0,s.jsx)(y.I,{type:"date",...e,"data-testid":"input-hire-date"})}),(0,s.jsx)(U,{})]})})]}),(0,s.jsx)(z,{control:l.control,name:"positionTitle",render:({field:e})=>(0,s.jsxs)(k,{children:[(0,s.jsx)(V,{children:"Position Title"}),(0,s.jsx)(L,{children:(0,s.jsx)(y.I,{placeholder:"Software Engineer",...e,value:e.value||"","data-testid":"input-position-title"})}),(0,s.jsx)(U,{})]})}),(0,s.jsx)(z,{control:l.control,name:"password",render:({field:e})=>(0,s.jsxs)(k,{children:[(0,s.jsx)(V,{children:"Portal Password (Optional)"}),(0,s.jsx)(L,{children:(0,s.jsx)(y.I,{type:"password",placeholder:"Leave empty to create without portal access",...e,"data-testid":"input-password"})}),(0,s.jsx)(U,{})]})}),(0,s.jsxs)(I,{children:[(0,s.jsx)(j.z,{type:"button",variant:"outline",onClick:()=>a(!1),"data-testid":"button-cancel",children:"Cancel"}),(0,s.jsx)(j.z,{type:"submit",disabled:c.isPending,"data-testid":"button-submit",children:c.isPending?"Creating...":"Create Employee"})]})]})})]})]})}},31048:(e,t,a)=>{a.d(t,{_:()=>l});var s=a(68819),r=a(17266),o=a(34478),d=a(79360),n=a(77863);let i=(0,d.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(o.f,{ref:a,className:(0,n.cn)(i(),e),...t}));l.displayName=o.f.displayName}};